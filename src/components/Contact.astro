---
import { sendEmail } from "../scripts/sendEmail.js";
---

<section id="contact" class="w-[1280px] mx-auto">
  <div class="text-center py-4">
    <h1 class="lavi">Contacto</h1>
  </div>
  <div class="justify-center flex">
    <div class="w-[50%]">
      <div class="flex items-center py-4">
        <img
          class="w-10 h-10"
          src="../../src/assets/phone-icon.png"
          alt="phone-icon"
        />
        <p class="px-4">Telefono: <br />+54 9 3541 229634</p>
      </div>
      <div class="flex items-center py-4">
        <img
          class="w-10 h-10"
          src="../../src/assets/email-icon.png"
          alt="email-icon"
        />
        <p class="px-4">Email: <br />cristian-mansilla@live.com.ar</p>
      </div>
      <div class="flex items-center py-4">
        <img
          class="w-10 h-10"
          src="../../src/assets/globe-icon.png"
          alt="ubicacion-icon"
        />
        <p class="px-4">Ubicación: <br />Córdoba, Argentina</p>
      </div>
    </div>
    <div class="w-[50%]">
      <!-- FORMULARIO DE CONTACTO -->
      <form id="formContact">
        <div class="grid gap-6 mb-6 md:grid-cols-2">
          <div>
            <label
              for="name"
              class="block mb-2.5 text-sm font-medium text-heading"
              >Tu Nombre:</label
            >
            <input
              type="text"
              id="name"
              name="user_name"
              class="bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded focus:ring-brand focus:border-brand block w-full px-3 py-2.5 shadow-xs placeholder:text-body"
              placeholder="Nombre"
              required
            />
          </div>
          <div>
            <label
              for="email"
              class="block mb-2.5 text-sm font-medium text-heading"
              >Tu Email:</label
            >
            <input
              type="email"
              id="email"
              name="user_email"
              class="bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded focus:ring-brand focus:border-brand block w-full px-3 py-2.5 shadow-xs placeholder:text-body"
              placeholder="example@gmail.com"
              required
            />
          </div>
        </div>
        <div class="mb-6">
          <label
            for="asunto"
            class="block mb-2.5 text-sm font-medium text-heading"
            >Asunto del mensaje:</label
          >
          <input
            type="text"
            id="asunto"
            name="subject"
            class="bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded focus:ring-brand focus:border-brand block w-full px-3 py-2.5 shadow-xs placeholder:text-body"
            placeholder="Asunto"
            required
          />
        </div>
        <div>
          <label
            for="message"
            class="block mb-2.5 text-sm font-medium text-heading"
            >Cuerpo del mensaje:</label
          >
          <textarea
            id="message"
            name="message"
            rows="4"
            class="bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded focus:ring-brand focus:border-brand block w-full p-3.5 shadow-xs placeholder:text-body mb-6"
            placeholder="Tu mensaje aqui..."></textarea>
        </div>
        <button
          type="submit"
          class="rounded-lg text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 font-medium rounded-base text-sm px-4 py-2.5 text-center leading-5"
          >Enviar
        </button>
      </form>
    </div>
  </div>
</section>

<style>
  p,
  h2,
  h3,
  input,
  textarea,
  label,
  button {
    font-family: "onest-variable", sans-serif;
  }
  .lavi {
    font-family: "Lavishly Yours", cursive;
    font-size: 2em;
  }
</style>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@2.6.4/dist/email.min.js"></script>
<script type="module">
  // import emailjs from "emailjs-com";
  
  emailjs.init("6Vuul-Z7EMYoSl9QP");

  const form = document.getElementById("formContact");
  if (form) {
    form.onsubmit = async (event) => {
      event.preventDefault();
      alert("Enviando mensaje...");
      try {
        const result = await emailjs.sendForm(
          "service_kdpcc5i", // service ID
          "template_rdez5in", // template ID
          form
        );
        alert("Mensaje enviado. ¡Gracias por contactarme!");
      } catch (error) {
        console.error("Error al enviar el mensaje:", error);
        alert("Hubo un error al enviar el mensaje. Por favor, intenta nuevamente más tarde.");
      }
    };
  }

</script>
